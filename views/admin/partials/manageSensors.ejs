<div class="container" style="width:auto"  ng-controller="manageSensorsController">
<br/>
<p align="Center" style="font-size:24px;">Sensor Management</p>
<div class="row">
	<div class="col-sm-3">
		<span>Please select sensor hub</span>
	</div>
	<div class="col-sm-6">
		<select class="form-control" ng-model="sensorHubSelection" ng-change="getSensors()">
        <option ng-repeat="sensorHub in sensorHubs">{{sensorHub.sensorHubName}}</option>
   		</select>
	</div>
</div>
<br/>
<table style="font-size:12px;" class="table table-condensed table-hover">

     
	
  
	<thead><tr><th>Sensor ID</th>
			<th>Sensor Type</th>
			<th>Sensor Latitude</th>
			<th>Sensor Longitude</th>
			<th>Sensor Status</th>
			<!--<th>Sensor Hub State</th>
			<th>Sensor Hub Country</th>-->
			<th></th></tr></thead>
	<tbody>
	<tr ng-repeat="sensor in sensors">
		 	<td>{{sensor.sensorID}}</td>
		 	<td>{{sensor.sensorType}}</td>
		 	<td>{{sensor.sensorLatitude}}</td>
		 	<td>{{sensor.sensorLongitude}}</td>
		 	<td>
		 		<toggle-switch class="switch-mini" ng-change="changeSensorStatus(sensor.sensorID,sensor.sensorStatus,$index)" ng-model="sensor.sensorStatus"></toggle-switch><!--{{sensor.sensorStatus ? 'Enabled' : 'Disabled'}}-->
		 	</td>
		 	<td>
		 		<input type="button" class="btn btn-warning btn-xs" ng-click = "editSensor(sensor)" value="Edit" data-toggle="modal" data-target="#sensorDetail">
		 	</td>
		 	<td>
		 		<input type="button" class="btn btn-danger btn-xs" value="Delete" ng-click="deleteSensor(sensor.sensorID,$index)">
		 	</td>
	</tr>
	</tbody>
</table>

<div id="sensorDetail" class="modal fade" role="dialog">
	<div class="modal-body">
		<div class="modal-content">
		<div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Edit Sensor Details</h4>
        </div>
        <div class="modal-body">
		  <form ng-submit="submit();">
		  <div class="form-group row">
		    <label class="col-sm-2 form-control-label">Sensor ID</label>
		    <div class="col-sm-8">
		      <input type="text" ng-model="sensorID" disabled class="form-control" placeholder="ID">
		    </div>
		  </div>
		  
		  <div class="form-group row">
		    <label class="col-sm-2 form-control-label">Sensor Type</label>
		    <div class="col-sm-8">
		      <select class="form-control" ng-model="sensorType" >
		        <option  ng-repeat="sensorType in sensorTypes">{{sensorType}}</option>
		       </select>
		    </div>
		  </div>
		  
		  <div class="form-group row">
		    <label class="col-sm-2 form-control-label">Select Sensor Hub</label>
		    <div class="col-sm-8">
		      <select class="form-control" ng-model="sensorHub" >
		        <option  ng-repeat="sensorHub in sensorHubs">{{sensorHub.sensorHubName}}</option>
		       </select>
		    </div>
		  </div>
		  
		  <div class="form-group row">
		    <label class="col-sm-2 form-control-label">Sensor Location-Latitude</label>
		    <div class="col-sm-8">
		      <input type="text" class="form-control" placeholder="Latitude" ng-model="sensorLatitude" >
		     
		    </div>
		  </div>
		  
		  <div class="form-group row">
		    <label class="col-sm-2 form-control-label">Sensor Location-Longitude</label>
		    <div class="col-sm-8">
		      <input type="text" class="form-control" placeholder="Longitude" ng-model="sensorLongitude" >
		     
		    </div>
		  </div>
		  
		  <div class="form-group row">
		    <label class="col-sm-2 form-control-label">Sensor Location- City</label>
		    <div class="col-sm-8">
		      <input type="text" class="form-control" placeholder="City" ng-model="sensorCity" >
		     
		    </div>
		  </div>
		  <div class="form-group row">
		    <div class="col-sm-offset-2 col-sm-8">
		      <button type="submit" ng-click="saveEditedSensorDetails()" class="btn btn-success btn-block">Save</button>
		    </div>
		  </div>
		</form>
		</div>
		</div>
	</div>
</div>